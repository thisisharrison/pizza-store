{"version":3,"sources":["context/order.tsx","components/ErrorFallback/index.tsx","module/index.tsx","index.tsx"],"names":["reducer","state","action","newOrders","Object","assign","orders","type","newId","count","newPaylod","id","payload","console","log","editing","OrderContext","React","createContext","displayName","initialState","OrderProvider","props","useReducer","dispatch","Provider","value","useOrderContext","context","useContext","Error","ErrorFallback","error","resetErrorBoundary","onClick","Home","lazy","App","theme","createTheme","palette","primary","main","grey","secondary","reloadPage","useCallback","window","location","reload","ThemeProvider","Container","maxWidth","Suspense","fallback","FallbackComponent","onReset","path","element","document","addEventListener","ReactDOM","render","StrictMode","getElementById"],"mappings":"0NAUA,SAASA,EAAQC,EAAmBC,GAChC,IAAIC,EAAYC,OAAOC,OAAO,GAAIJ,EAAMK,QACxC,OAAQJ,EAAOK,MACX,IAAK,SACD,IAAIC,EAAQP,EAAMQ,MAAQ,EACtBC,EAAS,aAAKC,GAAIH,GAAUN,EAAOU,SAEvC,OADAC,QAAQC,IAAR,SAAsBZ,GACf,2BACAD,GADP,IAEIQ,MAAOD,EACPO,QAAS,KACTT,OAAO,2BACAL,EAAMK,QADP,kBAEDE,EAAQE,MAGrB,IAAK,SAED,OADAG,QAAQC,IAAR,SAAsBZ,GACf,2BACAD,GADP,IAEIc,QAAS,KACTT,OAAO,2BACAL,EAAMK,QADP,kBAEDJ,EAAOU,QAAQD,GAAKT,EAAOU,YAGxC,IAAK,SAGD,OAFAC,QAAQC,IAAR,SAAsBZ,UACfC,EAAUD,EAAOU,SACjB,2BACAX,GADP,IAEIK,OAAQH,IAEhB,IAAK,OACD,OAAO,2BACAF,GADP,IAEIc,QAASb,EAAOU,UAExB,IAAK,QACD,OAAO,2BACAX,GADP,IAEIK,OAAQ,OAEhB,QACI,OAAOL,GAMnB,IAAMe,EAAeC,IAAMC,cAAkC,MAC7DF,EAAaG,YAAc,eAqB3B,IAAMC,EAA2B,CAC7BL,QAAS,KACTN,MAAO,EACPH,OAAQ,MAGL,SAASe,EAAcC,GAAqC,IAAD,EACpCL,IAAMM,WAAWvB,EAASoB,GADU,mBACvDnB,EADuD,KAChDuB,EADgD,KAE9D,OAAO,cAACR,EAAaS,SAAd,aAAuBC,MAAO,CAACzB,EAAOuB,IAAeF,IAGzD,SAASK,IACZ,IAAMC,EAAUX,IAAMY,WAAWb,GACjC,IAAKY,EACD,MAAM,IAAIE,MAAM,qDAEpB,OAAOF,I,+HCtFIG,EATO,SAAC,GAAiD,EAA/CC,MAAgD,IAAzCC,EAAwC,EAAxCA,mBAC5B,OACI,gCACI,sCACA,wBAAQC,QAASD,EAAjB,2B,gCCCNE,EAAOlB,IAAMmB,MAAK,kBAAM,uDAiCfC,MA/Bf,WACI,IAAMC,EAAQC,YAAY,CACtBC,QAAS,CACLC,QAAS,CACLC,KAAMC,IAAK,MAEfC,UAAW,CACPF,KAAMC,IAAK,SAKjBE,EAAa5B,IAAM6B,aAAY,WACjCC,OAAOC,SAASC,WACjB,IAEH,OACI,cAACC,EAAA,EAAD,CAAeZ,MAAOA,EAAtB,SACI,cAACa,EAAA,EAAD,CAAWC,SAAS,KAApB,SACI,cAAC,IAAMC,SAAP,CAAgBC,SAAU,6CAA1B,SACI,cAAC,gBAAD,CAAeC,kBAAmBxB,EAAeyB,QAASX,EAA1D,SACI,cAAC,IAAD,UACI,cAAC,IAAD,CAAOY,KAAK,IAAIC,QAAS,cAACvB,EAAD,iB,cCzBrDwB,SAASC,iBAAiB,oBAAoB,WAC1CC,IAASC,OACL,cAAC,IAAMC,WAAP,UACI,cAAC,IAAD,UACI,cAAC,IAAD,UACI,cAAC,EAAD,UAIZJ,SAASK,eAAe,c","file":"static/js/main.16572c93.chunk.js","sourcesContent":["import React from \"react\";\nimport type { OrderState, Order } from \"../shared/types\";\n\ntype ActionType =\n    | { type: \"create\"; payload: Omit<Order, \"id\"> }\n    | { type: \"update\"; payload: Order }\n    | { type: \"delete\"; payload: number }\n    | { type: \"edit\"; payload: null | Partial<Order> }\n    | { type: \"clear\" };\n\nfunction reducer(state: OrderState, action: ActionType) {\n    let newOrders = Object.assign({}, state.orders);\n    switch (action.type) {\n        case \"create\":\n            let newId = state.count + 1;\n            let newPaylod = { id: newId, ...action.payload };\n            console.log(`create`, action);\n            return {\n                ...state,\n                count: newId,\n                editing: null,\n                orders: {\n                    ...state.orders,\n                    [newId]: newPaylod,\n                },\n            };\n        case \"update\":\n            console.log(`update`, action);\n            return {\n                ...state,\n                editing: null,\n                orders: {\n                    ...state.orders,\n                    [action.payload.id]: action.payload,\n                },\n            };\n        case \"delete\":\n            console.log(`delete`, action);\n            delete newOrders[action.payload];\n            return {\n                ...state,\n                orders: newOrders,\n            };\n        case \"edit\":\n            return {\n                ...state,\n                editing: action.payload,\n            };\n        case \"clear\":\n            return {\n                ...state,\n                orders: null,\n            };\n        default:\n            return state;\n    }\n}\n\ntype ContextType = [OrderState, React.Dispatch<ActionType>];\n\nconst OrderContext = React.createContext<ContextType | null>(null);\nOrderContext.displayName = \"OrderContext\";\n\n// Add a lot of orders\n// const x = Array.from({ length: 10 }).map((_, i) => ({\n//     id: i,\n//     name: `Pizza ${i + 1}`,\n//     // @ts-ignore\n//     toppings: Array.from({ length: 20 }).map((i) => `Pizza Topping #${i + 1}`),\n//     price: 99,\n//     quantity: 1,\n//     size: \"Pizza Size #1\",\n// }));\n\n// const y: {\n//     [key: string]: Order;\n// } = {};\n\n// for (const i of x) {\n//     y[i.id] = i;\n// }\n\nconst initialState: OrderState = {\n    editing: null,\n    count: 0,\n    orders: null,\n};\n\nexport function OrderProvider(props: React.PropsWithChildren<{}>) {\n    const [state, dispatch] = React.useReducer(reducer, initialState);\n    return <OrderContext.Provider value={[state, dispatch]} {...props} />;\n}\n\nexport function useOrderContext() {\n    const context = React.useContext(OrderContext);\n    if (!context) {\n        throw new Error(\"useOrderContext must be used within OrderProvider\");\n    }\n    return context;\n}\n","import React from \"react\";\nimport type { FallbackProps } from \"react-error-boundary\";\n\nconst ErrorFallback = ({ error, resetErrorBoundary }: FallbackProps) => {\n    return (\n        <div>\n            <h2>Opps</h2>\n            <button onClick={resetErrorBoundary}>Reset App</button>\n        </div>\n    );\n};\n\nexport default ErrorFallback;\n","import React from \"react\";\nimport { ErrorBoundary } from \"react-error-boundary\";\nimport { Route, Routes } from \"react-router-dom\";\nimport ErrorFallback from \"../components/ErrorFallback\";\nimport { Container } from \"@mui/material\";\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\nimport { grey } from \"@mui/material/colors\";\n\nconst Home = React.lazy(() => import(\"./Home\"));\n\nfunction App() {\n    const theme = createTheme({\n        palette: {\n            primary: {\n                main: grey[400],\n            },\n            secondary: {\n                main: grey[100],\n            },\n        },\n    });\n\n    const reloadPage = React.useCallback(() => {\n        window.location.reload();\n    }, []);\n\n    return (\n        <ThemeProvider theme={theme}>\n            <Container maxWidth=\"lg\">\n                <React.Suspense fallback={<div>Loading...</div>}>\n                    <ErrorBoundary FallbackComponent={ErrorFallback} onReset={reloadPage}>\n                        <Routes>\n                            <Route path=\"/\" element={<Home />} />\n                        </Routes>\n                    </ErrorBoundary>\n                </React.Suspense>\n            </Container>\n        </ThemeProvider>\n    );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { OrderProvider } from \"./context/order\";\nimport App from \"./module\";\nimport { HashRouter } from \"react-router-dom\";\nimport \"./index.scss\";\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    ReactDOM.render(\n        <React.StrictMode>\n            <HashRouter>\n                <OrderProvider>\n                    <App />\n                </OrderProvider>\n            </HashRouter>\n        </React.StrictMode>,\n        document.getElementById(\"root\")\n    );\n});\n"],"sourceRoot":""}
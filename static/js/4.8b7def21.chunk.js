(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[4],{144:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return _}));var r=n(12),a=n(0),c=n.n(a),i=n(38),o=n(114),s=n.n(o),l=n(151),d=n(146),j=n(152),b=n(153),u=n(154),x=n(4),p=function(e){var t=e.orders,n=Object(i.b)(),a=Object(r.a)(n,2)[1],c=function(e){a({type:"delete",payload:e})};return Object(x.jsx)(l.a,{children:t.map((function(e){return Object(x.jsx)(f,{order:e,onRemove:c},e.id)}))})},f=c.a.memo((function(e){var t=e.order,n=e.onRemove;return Object(x.jsxs)(d.a,{disablePadding:!0,children:[Object(x.jsx)(j.a,{children:Object(x.jsx)(b.a,{onClick:function(){return n(t.id)},role:"remove",children:Object(x.jsx)(s.a,{color:"primary","aria-label":"remove"})})}),Object(x.jsx)(u.a,{sx:{width:.8},primary:"".concat(t.quantity," x ").concat(t.name),secondary:"".concat(t.size,", ").concat(t.toppings)}),Object(x.jsx)(u.a,{sx:{textAlign:"right",width:.2},primary:"".concat("$"+t.price)})]})}));var h=Object.freeze({toArray:function(e){return Object.keys(e).map((function(t){return e[t]}))},reduceByKey:function(e,t){return Object.keys(e).reduce((function(n,r){return n+e[r][t]}),0)}}),O=n(165),m=n(155),y=n(156),g=n(148),v=n(157),k=function(){var e=Object(i.b)(),t=Object(r.a)(e,2),n=t[0],a=t[1],o=n.orders,s=c.a.useMemo((function(){return null===o?[]:h.toArray(o)}),[o]),l=c.a.useMemo((function(){return null===o?0:h.reduceByKey(o,"price")}),[o]),d=c.a.useCallback((function(){a({type:"clear"})}),[a]),j=l>0;return Object(x.jsxs)(O.a,{sx:{p:1,m:1,width:[1,1,.3],display:"flex",flexDirection:"column",justifyContent:"center"},"data-testid":"basket",children:[Object(x.jsxs)(O.a,{component:"div",sx:{bgcolor:"#f3f2f2",borderRadius:1,overflow:"hidden",p:2},children:[Object(x.jsx)(O.a,{component:"div",sx:{maxHeight:"65vh",height:"75%",overflow:"auto",overflowY:"scroll"},children:l?Object(x.jsx)(p,{orders:s}):Object(x.jsx)(m.a,{variant:"body1",align:"center",sx:{mt:4},children:"No items in your basket"})}),Object(x.jsx)(y.a,{variant:"middle",sx:{my:3}}),Object(x.jsxs)(O.a,{display:"flex",flexWrap:"wrap",justifyContent:"flex-end",role:"order-total",children:[Object(x.jsx)(m.a,{variant:"body1",sx:{fontWeight:700},children:"Total"}),Object(x.jsxs)(m.a,{variant:"body1",sx:{fontWeight:700,ml:4},children:["$ ",l]})]}),Object(x.jsx)(g.a,{variant:"contained",fullWidth:!0,disabled:!j,sx:{my:4},children:"Checkout"})]}),Object(x.jsx)(v.a,{variant:"h6",component:"button",disabled:!j,align:"center",href:"#",underline:j?"always":"none",sx:{fontWeight:400,color:j?"grey[400]":"#d5d5d5",my:3,":hover":{cursor:j?"pointer":"auto"}},onClick:d,children:"Empty Basket"})]})},C=n(5),w=n.p+"static/media/pizza.98ab3b9b.jpg",z=n(35),W=n(143),A=Object(z.a)(W.a)((function(e){var t,n=e.theme;return t={position:"relative",height:140},Object(C.a)(t,n.breakpoints.down("md"),{width:"100% !important",height:300}),Object(C.a)(t,"&:hover, &.Mui-focusVisible",{zIndex:1,"& .MuiImageBackdrop-root":{opacity:.15},"& .MuiImageMarked-root":{opacity:0},"& .MuiTypography-root":{border:"4px solid currentColor"}}),t})),M=Object(z.a)("span")({position:"absolute",left:0,right:0,top:0,bottom:0,backgroundSize:"cover",backgroundPosition:"center",borderRadius:8}),P=Object(z.a)("span")((function(e){var t=e.theme;return{position:"absolute",left:0,right:0,top:0,bottom:0,borderRadius:8,backgroundColor:t.palette.common.black,opacity:.2,transition:t.transitions.create("opacity"),":hover":{opacity:0}}})),R=c.a.memo((function(e){var t=e.onClick;return Object(x.jsx)(O.a,{sx:{display:"flex",flexWrap:"wrap",width:"100%"},children:Object(x.jsxs)(A,{focusRipple:!0,style:{width:"100%"},onClick:t,role:"dialog-image",children:[Object(x.jsx)(M,{style:{backgroundImage:"url(".concat(w,")")}}),Object(x.jsx)(P,{})]})})})),S=n(158),I=n(160),B=n(161),D=function(e){var t=e.item,n=Object(i.b)(),a=Object(r.a)(n,2)[1],c=t.name,o=t.price,s=function(){a({type:"edit",payload:{name:c,price:o}})};return Object(x.jsxs)(S.a,{variant:"outlined",sx:{width:[1,1,.3],m:1,borderColor:"#e9e9e9",textAlign:"center",borderRadius:4},children:[Object(x.jsxs)(I.a,{children:[Object(x.jsx)(R,{onClick:s}),Object(x.jsxs)(m.a,{variant:"body1",color:"text.secondary",sx:{mt:2},children:[c," - ","$"+o]})]}),Object(x.jsx)(B.a,{sx:{display:"flex",justifyContent:"center",mb:2,mx:1},children:Object(x.jsx)(g.a,{variant:"contained",fullWidth:!0,onClick:s,role:"dialog-button",children:"Choose"})})]})},J=Array.from({length:6}).map((function(e,t){return{id:t,name:"Pizza Name ".concat(t+1),price:99}})),N=function(){return Object(x.jsx)(O.a,{sx:{flexGrow:1,width:[1,1,.7],display:"flex",flexWrap:"wrap",my:1},children:J.map((function(e){return Object(x.jsx)(D,{item:e},e.id)}))})},T=n(8),$=n(14),q=n(142),G=n(149),H=n(150),K=n(162),V=n(163),E=n(147),F=n(141),Y=n(145),L=n(164),Q=Array.from({length:9}).map((function(e,t){return"Pizza Topping #".concat(t+1)})),U=Array.from({length:3}).map((function(e,t){return"Pizza Size #".concat(t+1)}));function X(e){var t=e.open,n=e.onClose,c=a.useState({toppings:[],size:"Pizza Size #1"}),i=Object(r.a)(c,2),o=i[0],s=i[1],j=function(){n(null)},b=function(e){var t=e.target.name,n=-1!==o.toppings.indexOf(t),r=Object($.a)(o.toppings);r=n?r.filter((function(e){return e!==t})):Array.from(new Set([t].concat(Object($.a)(r)))),s((function(e){return Object(T.a)(Object(T.a)({},e),{},{toppings:r})}))};return Object(x.jsx)(q.a,{onClose:j,open:t,maxWidth:"lg",role:"dialog",children:Object(x.jsxs)(O.a,{component:"form",onSubmit:function(e){e.preventDefault(),o.toppings.length>0?n(o):console.log("error","error")},children:[Object(x.jsxs)(G.a,{children:[Object(x.jsx)(O.a,{children:Object(x.jsx)(H.a,{children:Object(x.jsx)(K.a,{children:Object(x.jsx)(l.a,{sx:{columnCount:[2,2,3]},children:Q.map((function(e){var t=-1!==o.toppings.indexOf(e);return Object(x.jsx)(d.a,{disablePadding:!0,sx:{breakInside:"avoid"},children:Object(x.jsx)(V.a,{control:Object(x.jsx)(E.a,{checked:t,onChange:b,name:e}),label:e})},e)}))})})})}),Object(x.jsx)(O.a,{children:Object(x.jsx)(H.a,{children:Object(x.jsx)(F.a,{"aria-label":"size",defaultValue:U[0],name:"size",value:o.size,onChange:function(e){s((function(t){return Object(T.a)(Object(T.a)({},t),{},{size:e.target.value})}))},children:U.map((function(e){return Object(x.jsx)(V.a,{control:Object(x.jsx)(Y.a,{}),value:e,label:e},e)}))})})})]}),Object(x.jsx)(L.a,{children:Object(x.jsxs)(O.a,{display:"flex",flexGrow:"1",justifyContent:"space-evenly",children:[Object(x.jsx)(g.a,{variant:"contained",type:"submit",fullWidth:!0,sx:{m:2},children:"Add to Basket"}),Object(x.jsx)(g.a,{variant:"contained",color:"secondary",onClick:j,fullWidth:!0,sx:{m:2},children:"Cancel"})]})})]})})}function Z(){var e=Object(i.b)(),t=Object(r.a)(e,2),n=t[0],a=t[1],c=n.editing;return Object(x.jsx)("div",{children:Object(x.jsx)(X,{open:!!c,onClose:function(e){a(e?{type:"create",payload:Object(T.a)(Object(T.a)({quantity:1},c),e)}:{type:"edit",payload:null})}})})}function _(){var e=Object(i.b)(),t=Object(r.a)(e,1)[0];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(O.a,{sx:{display:"flex",flexDirection:["column","column","row"],alignItems:"flex-start",minHeight:"100vh"},children:[Object(x.jsx)(N,{}),Object(x.jsx)(k,{})]}),Object(x.jsx)(Z,{},JSON.stringify(t.editing))]})}}}]);
//# sourceMappingURL=4.8b7def21.chunk.js.map